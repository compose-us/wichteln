import{S as R,i as U,s as q,j as _,m as d,o as g,x as f,u as $,v as h,T as z,k as v,e as b,n as k,c as w,a as N,d as u,b as C,f as p,F as I,w as A,N as W,A as X,U as Y,V as Z,W as H,t as L,g as S,r as V,O as J,X as K,l as D,Y as Q,Z as x,h as ee}from"../chunks/vendor-b041d247.js";import{p as E}from"../chunks/participants-store-bc0b3d81.js";import{C as te}from"../chunks/card-label-53abe93d.js";const P=i=>{const s=[...i];for(let n=0;n<s.length;n++){const r=n+Math.floor(Math.random()*(s.length-n)),e=s[r];s[r]=s[n],s[n]=e}return s},se=(i,s)=>{let n=0;for(let r=0;r<s.length;r++)i[r]===s[r]&&n++;return n===0};function B(i,s,n){const r=i.slice();return r[8]=s[n],r[10]=n,r}function M(i){let s,n;return s=new Y({props:{$$slots:{default:[le]},$$scope:{ctx:i}}}),{c(){_(s.$$.fragment)},l(r){d(s.$$.fragment,r)},m(r,e){g(s,r,e),n=!0},p(r,e){const l={};e&2060&&(l.$$scope={dirty:e,ctx:r}),s.$set(l)},i(r){n||(f(s.$$.fragment,r),n=!0)},o(r){$(s.$$.fragment,r),n=!1},d(r){h(s,r)}}}function re(i){let s=`${i[8].firstName} ${i[8].lastName}`,n,r;return{c(){n=L(s),r=v()},l(e){n=S(e,s),r=k(e)},m(e,l){p(e,n,l),p(e,r,l)},p(e,l){l&8&&s!==(s=`${e[8].firstName} ${e[8].lastName}`)&&ee(n,s)},d(e){e&&u(n),e&&u(r)}}}function O(i){let s,n;function r(){return i[5](i[10])}return s=new x({props:{action:!0,href:"#",color:i[8].copied?"success":"light",$$slots:{default:[re]},$$scope:{ctx:i}}}),s.$on("click",r),{c(){_(s.$$.fragment)},l(e){d(s.$$.fragment,e)},m(e,l){g(s,e,l),n=!0},p(e,l){i=e;const a={};l&8&&(a.color=i[8].copied?"success":"light"),l&2056&&(a.$$scope={dirty:l,ctx:i}),s.$set(a)},i(e){n||(f(s.$$.fragment,e),n=!0)},o(e){$(s.$$.fragment,e),n=!1},d(e){h(s,e)}}}function ae(i){let s,n,r=i[3],e=[];for(let a=0;a<r.length;a+=1)e[a]=O(B(i,r,a));const l=a=>$(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();s=D()},l(a){for(let t=0;t<e.length;t+=1)e[t].l(a);s=D()},m(a,t){for(let o=0;o<e.length;o+=1)e[o].m(a,t);p(a,s,t),n=!0},p(a,t){if(t&28){r=a[3];let o;for(o=0;o<r.length;o+=1){const c=B(a,r,o);e[o]?(e[o].p(c,t),f(e[o],1)):(e[o]=O(c),e[o].c(),f(e[o],1),e[o].m(s.parentNode,s))}for(V(),o=r.length;o<e.length;o+=1)l(o);A()}},i(a){if(!n){for(let t=0;t<r.length;t+=1)f(e[t]);n=!0}},o(a){e=e.filter(Boolean);for(let t=0;t<e.length;t+=1)$(e[t]);n=!1},d(a){Q(e,a),a&&u(s)}}}function ne(i){let s,n,r,e;return r=new K({props:{$$slots:{default:[ae]},$$scope:{ctx:i}}}),{c(){s=b("div"),n=b("div"),_(r.$$.fragment),this.h()},l(l){s=w(l,"DIV",{class:!0});var a=N(s);n=w(a,"DIV",{class:!0});var t=N(n);d(r.$$.fragment,t),t.forEach(u),a.forEach(u),this.h()},h(){C(n,"class","list svelte-syrxja"),C(s,"class","container svelte-syrxja")},m(l,a){p(l,s,a),I(s,n),g(r,n,null),e=!0},p(l,a){const t={};a&2060&&(t.$$scope={dirty:a,ctx:l}),r.$set(t)},i(l){e||(f(r.$$.fragment,l),e=!0)},o(l){$(r.$$.fragment,l),e=!1},d(l){l&&u(s),h(r)}}}function le(i){let s,n,r,e,l,a;return s=new te({props:{label:"Participants Assignments",backBtn:!0}}),r=new Z({props:{$$slots:{default:[ne]},$$scope:{ctx:i}}}),l=new H({}),{c(){_(s.$$.fragment),n=v(),_(r.$$.fragment),e=v(),_(l.$$.fragment)},l(t){d(s.$$.fragment,t),n=k(t),d(r.$$.fragment,t),e=k(t),d(l.$$.fragment,t)},m(t,o){g(s,t,o),p(t,n,o),g(r,t,o),p(t,e,o),g(l,t,o),a=!0},p(t,o){const c={};o&2060&&(c.$$scope={dirty:o,ctx:t}),r.$set(c)},i(t){a||(f(s.$$.fragment,t),f(r.$$.fragment,t),f(l.$$.fragment,t),a=!0)},o(t){$(s.$$.fragment,t),$(r.$$.fragment,t),$(l.$$.fragment,t),a=!1},d(t){h(s,t),t&&u(n),h(r,t),t&&u(e),h(l,t)}}}function oe(i){let s;return{c(){s=L("Copied!")},l(n){s=S(n,"Copied!")},m(n,r){p(n,s,r)},d(n){n&&u(s)}}}function ie(i){let s,n,r,e,l,a=i[0]&&M(i);return e=new z({props:{isOpen:i[1],fade:!0,$$slots:{default:[oe]},$$scope:{ctx:i}}}),{c(){a&&a.c(),s=v(),n=b("div"),r=b("div"),_(e.$$.fragment),this.h()},l(t){a&&a.l(t),s=k(t),n=w(t,"DIV",{class:!0});var o=N(n);r=w(o,"DIV",{class:!0});var c=N(r);d(e.$$.fragment,c),c.forEach(u),o.forEach(u),this.h()},h(){C(r,"class","alert-content svelte-syrxja"),C(n,"class","alert svelte-syrxja")},m(t,o){a&&a.m(t,o),p(t,s,o),p(t,n,o),I(n,r),g(e,r,null),l=!0},p(t,[o]){t[0]?a?(a.p(t,o),o&1&&f(a,1)):(a=M(t),a.c(),f(a,1),a.m(s.parentNode,s)):a&&(V(),$(a,1,1,()=>{a=null}),A());const c={};o&2&&(c.isOpen=t[1]),o&2048&&(c.$$scope={dirty:o,ctx:t}),e.$set(c)},i(t){l||(f(a),f(e.$$.fragment,t),l=!0)},o(t){$(a),$(e.$$.fragment,t),l=!1},d(t){a&&a.d(t),t&&u(s),t&&u(n),h(e)}}}function ce(i,s,n){let r;W(i,E,m=>n(3,r=m));let e=!1,l=!1,a=[];X(()=>{r.length===0?document.location="/":n(0,e=!0)}),a=P(r);const t=()=>{se(r,a)||o()},o=()=>{n(2,a=P(r)),t()},c=(m,j)=>{const y=r[m],T=`${y.firstName} ${y.lastName}`,F=btoa(`${j.firstName} ${j.lastName}`),G=new URLSearchParams({assignee:T,secret:F}).toString();navigator.clipboard.writeText(`${document.location.origin}/secret/?${G}`),n(1,l=!0),J(E,r[m].copied=!0,r),setTimeout(()=>{n(1,l=!1)},1e3)};return t(),[e,l,a,r,c,m=>c(m,a[m])]}class me extends R{constructor(s){super();U(this,s,ce,ie,q,{})}}export{me as default};
