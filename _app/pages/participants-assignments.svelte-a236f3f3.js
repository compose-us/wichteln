import{S as K,i as R,s as U,j as _,m as d,o as h,x as f,u as $,v as g,T as q,k as v,e as b,n as k,c as w,a as N,d as u,b as j,f as p,F as I,w as L,N as z,A as W,U as X,V as Y,W as Z,t as S,g as V,r as A,O as H,X as J,l as D,Y as Q,Z as x,h as ee}from"../chunks/vendor-52cac395.js";import{p as E}from"../chunks/participants-store-535378ac.js";import{C as te}from"../chunks/card-label-8e38f8e3.js";const T=c=>{const s=[...c];for(let n=0;n<s.length;n++){const r=n+Math.floor(Math.random()*(s.length-n)),e=s[r];s[r]=s[n],s[n]=e}return s},se=(c,s)=>{let n=0;for(let r=0;r<s.length;r++)c[r]===s[r]&&n++;return n===0};function B(c,s,n){const r=c.slice();return r[8]=s[n],r[10]=n,r}function M(c){let s,n;return s=new X({props:{$$slots:{default:[le]},$$scope:{ctx:c}}}),{c(){_(s.$$.fragment)},l(r){d(s.$$.fragment,r)},m(r,e){h(s,r,e),n=!0},p(r,e){const l={};e&2060&&(l.$$scope={dirty:e,ctx:r}),s.$set(l)},i(r){n||(f(s.$$.fragment,r),n=!0)},o(r){$(s.$$.fragment,r),n=!1},d(r){g(s,r)}}}function re(c){let s=`${c[8].firstName} ${c[8].lastName}`,n,r;return{c(){n=S(s),r=v()},l(e){n=V(e,s),r=k(e)},m(e,l){p(e,n,l),p(e,r,l)},p(e,l){l&8&&s!==(s=`${e[8].firstName} ${e[8].lastName}`)&&ee(n,s)},d(e){e&&u(n),e&&u(r)}}}function O(c){let s,n;function r(){return c[5](c[10])}return s=new x({props:{action:!0,href:"#",color:c[8].copied?"success":"light",$$slots:{default:[re]},$$scope:{ctx:c}}}),s.$on("click",r),{c(){_(s.$$.fragment)},l(e){d(s.$$.fragment,e)},m(e,l){h(s,e,l),n=!0},p(e,l){c=e;const a={};l&8&&(a.color=c[8].copied?"success":"light"),l&2056&&(a.$$scope={dirty:l,ctx:c}),s.$set(a)},i(e){n||(f(s.$$.fragment,e),n=!0)},o(e){$(s.$$.fragment,e),n=!1},d(e){g(s,e)}}}function ae(c){let s,n,r=c[3],e=[];for(let a=0;a<r.length;a+=1)e[a]=O(B(c,r,a));const l=a=>$(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();s=D()},l(a){for(let t=0;t<e.length;t+=1)e[t].l(a);s=D()},m(a,t){for(let o=0;o<e.length;o+=1)e[o].m(a,t);p(a,s,t),n=!0},p(a,t){if(t&28){r=a[3];let o;for(o=0;o<r.length;o+=1){const i=B(a,r,o);e[o]?(e[o].p(i,t),f(e[o],1)):(e[o]=O(i),e[o].c(),f(e[o],1),e[o].m(s.parentNode,s))}for(A(),o=r.length;o<e.length;o+=1)l(o);L()}},i(a){if(!n){for(let t=0;t<r.length;t+=1)f(e[t]);n=!0}},o(a){e=e.filter(Boolean);for(let t=0;t<e.length;t+=1)$(e[t]);n=!1},d(a){Q(e,a),a&&u(s)}}}function ne(c){let s,n,r,e;return r=new J({props:{$$slots:{default:[ae]},$$scope:{ctx:c}}}),{c(){s=b("div"),n=b("div"),_(r.$$.fragment),this.h()},l(l){s=w(l,"DIV",{class:!0});var a=N(s);n=w(a,"DIV",{class:!0});var t=N(n);d(r.$$.fragment,t),t.forEach(u),a.forEach(u),this.h()},h(){j(n,"class","list svelte-syrxja"),j(s,"class","container svelte-syrxja")},m(l,a){p(l,s,a),I(s,n),h(r,n,null),e=!0},p(l,a){const t={};a&2060&&(t.$$scope={dirty:a,ctx:l}),r.$set(t)},i(l){e||(f(r.$$.fragment,l),e=!0)},o(l){$(r.$$.fragment,l),e=!1},d(l){l&&u(s),g(r)}}}function le(c){let s,n,r,e,l,a;return s=new te({props:{label:"Teilnehmer Links",backBtn:!0}}),r=new Y({props:{$$slots:{default:[ne]},$$scope:{ctx:c}}}),l=new Z({}),{c(){_(s.$$.fragment),n=v(),_(r.$$.fragment),e=v(),_(l.$$.fragment)},l(t){d(s.$$.fragment,t),n=k(t),d(r.$$.fragment,t),e=k(t),d(l.$$.fragment,t)},m(t,o){h(s,t,o),p(t,n,o),h(r,t,o),p(t,e,o),h(l,t,o),a=!0},p(t,o){const i={};o&2060&&(i.$$scope={dirty:o,ctx:t}),r.$set(i)},i(t){a||(f(s.$$.fragment,t),f(r.$$.fragment,t),f(l.$$.fragment,t),a=!0)},o(t){$(s.$$.fragment,t),$(r.$$.fragment,t),$(l.$$.fragment,t),a=!1},d(t){g(s,t),t&&u(n),g(r,t),t&&u(e),g(l,t)}}}function oe(c){let s;return{c(){s=S("Kopiert!")},l(n){s=V(n,"Kopiert!")},m(n,r){p(n,s,r)},d(n){n&&u(s)}}}function ce(c){let s,n,r,e,l,a=c[0]&&M(c);return e=new q({props:{isOpen:c[1],fade:!0,$$slots:{default:[oe]},$$scope:{ctx:c}}}),{c(){a&&a.c(),s=v(),n=b("div"),r=b("div"),_(e.$$.fragment),this.h()},l(t){a&&a.l(t),s=k(t),n=w(t,"DIV",{class:!0});var o=N(n);r=w(o,"DIV",{class:!0});var i=N(r);d(e.$$.fragment,i),i.forEach(u),o.forEach(u),this.h()},h(){j(r,"class","alert-content svelte-syrxja"),j(n,"class","alert svelte-syrxja")},m(t,o){a&&a.m(t,o),p(t,s,o),p(t,n,o),I(n,r),h(e,r,null),l=!0},p(t,[o]){t[0]?a?(a.p(t,o),o&1&&f(a,1)):(a=M(t),a.c(),f(a,1),a.m(s.parentNode,s)):a&&(A(),$(a,1,1,()=>{a=null}),L());const i={};o&2&&(i.isOpen=t[1]),o&2048&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){l||(f(a),f(e.$$.fragment,t),l=!0)},o(t){$(a),$(e.$$.fragment,t),l=!1},d(t){a&&a.d(t),t&&u(s),t&&u(n),g(e)}}}function ie(c,s,n){let r;z(c,E,m=>n(3,r=m));let e=!1,l=!1,a=[];W(()=>{r.length===0?document.location="/":n(0,e=!0)}),a=T(r);const t=()=>{se(r,a)||o()},o=()=>{n(2,a=T(r)),t()},i=(m,C)=>{const y=r[m],P=`${y.firstName} ${y.lastName}`,F=btoa(`${C.firstName} ${C.lastName}`),G=new URLSearchParams({assignee:P,secret:F}).toString();navigator.clipboard.writeText(`${document.location.origin}/secret/?${G}`),n(1,l=!0),H(E,r[m].copied=!0,r),setTimeout(()=>{n(1,l=!1)},1e3)};return t(),[e,l,a,r,i,m=>i(m,a[m])]}class me extends K{constructor(s){super();R(this,s,ie,ce,U,{})}}export{me as default};
